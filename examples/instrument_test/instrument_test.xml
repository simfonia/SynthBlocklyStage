<xml xmlns="https://developers.google.com/blockly/xml">
  <block type="processing_setup" id="setup" x="20" y="20">
    <statement name="DO">
      <block type="audio_minim_init" id="init_minim">
        <next>
          <block type="visual_stage_setup" id="super_stage">
            <field name="W">1200</field>
            <field name="H">400</field>
            <field name="BG_COLOR">#000000</field>
            <field name="FG_COLOR">#FE2F89</field>
            <next>
              <block type="audio_create_synth_instrument" id="create_lead">
                <field name="NAME">Lead</field>
                <field name="TYPE">SINE</field>
                <next>
                  <block type="audio_create_synth_instrument" id="create_bass">
                    <field name="NAME">Bass</field>
                    <field name="TYPE">SAW</field>
                    <next>
                      <block type="audio_create_synth_instrument" id="create_pad">
                        <field name="NAME">Pad</field>
                        <field name="TYPE">TRIANGLE</field>
                        <next>
                          <block type="audio_select_instrument" id="select_init">
                            <field name="NAME">Lead</field>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>

  <block type="processing_draw" id="draw" x="450" y="20">
    <statement name="DO">
      <block type="sb_comment" id="note">
        <field name="TEXT">測試說明：&#10;1. 點擊「執行」啟動舞台。&#10;2. 使用 PC 鍵盤 (Q-U) 或 MIDI 鍵盤彈奏。&#10;3. 按下鍵盤「左/右」方向鍵可切換音色。&#10;4. 切換訊息會顯示在上方紅色日誌區。</field>
      </block>
    </statement>
  </block>

  <block type="midi_on_note" id="midi_on" x="20" y="500">
    <field name="CHANNEL">channel</field>
    <field name="PITCH">pitch</field>
    <field name="VELOCITY">velocity</field>
    <statement name="DO">
      <block type="audio_play_note" id="play_note">
        <value name="PITCH">
          <block type="variables_get">
            <field name="VAR">pitch</field>
          </block>
        </value>
        <value name="VELOCITY">
          <block type="variables_get">
            <field name="VAR">velocity</field>
          </block>
        </value>
      </block>
    </statement>
  </block>

  <block type="midi_off_note" id="midi_off" x="450" y="500">
    <field name="CHANNEL">channel</field>
    <field name="PITCH">pitch</field>
    <field name="VELOCITY">velocity</field>
    <statement name="DO">
      <block type="audio_stop_note" id="stop_note">
        <value name="PITCH">
          <block type="variables_get">
            <field name="VAR">pitch</field>
          </block>
        </value>
      </block>
    </statement>
  </block>
</xml>