# 11 觸控打擊墊 (Touch Drum Pad)

這個範例展示如何使用 **TTP229 16鍵電容觸控模組** (BSF 版本) 來製作一個電子打擊墊與和弦控制器。

**注意：** 本範例採用「8 鍵 Bitmask 模式」，支援無延遲的快速反應與多鍵同時觸發（需硬體支援）。

## 接線說明 (Wiring)

請將 TTP229 模組與 Arduino 依照下方對應關係連接：

*   **TTP229 VCC** 接到 **Arduino 5V**
*   **TTP229 GND** 接到 **Arduino GND**
*   **TTP229 SCL** 接到 **Arduino D2** (數位腳位 2)
*   **TTP229 SDO** 接到 **Arduino D3** (數位腳位 3)

*(只需接這 4 條線，其他的 OUT1~8 不需要接)*

## 如何啟用多鍵同時觸發 (Polyphony)

雖然本範例的程式碼已經支援多鍵同時訊號處理 (Bitmask)，但 **TTP229 晶片預設只允許單鍵觸發** (Two-Key Lockout)。

若您希望同時按下多個鍵（例如同時打大鼓和小鼓），您必須修改硬體：

1.  找到 TTP229 晶片的 **第 7 腳 (TP3)**。
2.  將該腳位連接到 **GND (接地)**。
3.  重新插拔電源以套用設定。

*(若未進行此修改，程式依然能運作，但一次只能發出一個聲音)*

## 使用步驟

1.  **上傳程式**：下載本範例的 `11_Drum_Pad.ino`，用 Arduino IDE 上傳到開發板。
2.  **載入積木**：在 SynthBlockly 載入此 `main.xml`。
3.  **連線**：點擊工具列的 **「連接序列埠 (Connect Serial)」** 按鈕，選擇您的 Arduino。
4.  **開始演奏**：
    *   **按鍵 1-4**：觸發爵士鼓 (Kick, Snare, HiHat, Clap)
    *   **按鍵 5-8**：觸發和弦 (C, F, G, Am)

## 常見問題

*   **Q: 按下按鍵沒反應？**
    *   A: 請檢查 SCL/SDO 是否接反。
    *   A: 檢查序列埠是否已連線。
*   **Q: 無法同時觸發兩個聲音？**
    *   A: 請確認是否已依照上方說明將 **TP3 (Pin 7)** 接地。