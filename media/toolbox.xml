<xml>
    <!-- 1. Processing Structure -->
    <category name="%{BKY_CAT_STRUCTURE}" colour="%{BKY_STRUCTURE_HUE}">
        <block type="processing_setup"></block>
        <block type="processing_draw"></block>
        <block type="processing_exit"></block>
    </category>

    <sep></sep>

    <!-- 2. Logic -->
    <category name="%{BKY_CAT_LOGIC}" colour="%{BKY_LOGIC_HUE}">
        <block type="controls_if"></block>
        <block type="logic_compare"></block>
        <block type="logic_operation"></block>
        <block type="logic_negate"></block>
        <block type="logic_boolean"></block>
        <block type="logic_null"></block>
        <block type="logic_ternary"></block>
    </category>

    <!-- 3. Loops -->
    <category name="%{BKY_CAT_LOOPS}" colour="%{BKY_LOOPS_HUE}">
        <block type="controls_repeat_ext">
            <value name="TIMES">
                <shadow type="math_number">
                    <field name="NUM">10</field>
                </shadow>
            </value>
        </block>
        <block type="controls_whileUntil"></block>
        <block type="controls_for">
            <value name="FROM">
                <shadow type="math_number">
                    <field name="NUM">1</field>
                </shadow>
            </value>
            <value name="TO">
                <shadow type="math_number">
                    <field name="NUM">10</field>
                </shadow>
            </value>
            <value name="BY">
                <shadow type="math_number">
                    <field name="NUM">1</field>
                </shadow>
            </value>
        </block>
        <block type="controls_forEach"></block>
        <block type="controls_flow_statements"></block>
    </category>

    <!-- 4. Math -->
    <category name="%{BKY_CAT_MATH}" colour="%{BKY_MATH_HUE}">
        <block type="math_number"></block>
        <block type="math_arithmetic">
            <value name="A">
                <shadow type="math_number">
                    <field name="NUM">1</field>
                </shadow>
            </value>
            <value name="B">
                <shadow type="math_number">
                    <field name="NUM">1</field>
                </shadow>
            </value>
        </block>
        <block type="math_single"></block>
        <block type="math_trig"></block>
        <block type="math_constant"></block>
        <block type="math_number_property"></block>
        <block type="math_round"></block>
        <block type="math_modulo"></block>
        <block type="math_map">
            <value name="FROM_LOW">
                <shadow type="math_number">
                    <field name="NUM">0</field>
                </shadow>
            </value>
            <value name="FROM_HIGH">
                <shadow type="math_number">
                    <field name="NUM">127</field>
                </shadow>
            </value>
            <value name="TO_LOW">
                <shadow type="math_number">
                    <field name="NUM">0</field>
                </shadow>
            </value>
            <value name="TO_HIGH">
                <shadow type="math_number">
                    <field name="NUM">100</field>
                </shadow>
            </value>
        </block>
        <block type="math_constrain">
            <value name="LOW">
                <shadow type="math_number">
                    <field name="NUM">0</field>
                </shadow>
            </value>
            <value name="HIGH">
                <shadow type="math_number">
                    <field name="NUM">100</field>
                </shadow>
            </value>
        </block>
    </category>

    <!-- 5. Text -->
    <category name="%{BKY_CAT_TEXT}" colour="%{BKY_TEXT_HUE}">
        <block type="text"></block>
        <block type="text_join"></block>
        <block type="text_append">
            <value name="TEXT">
                <shadow type="text"></shadow>
            </value>
        </block>
        <block type="text_length"></block>
        <block type="text_isEmpty"></block>
        <block type="text_charAt"></block>
        <block type="text_print"></block>
    </category>

    <!-- 6. Lists -->
    <category name="%{BKY_CAT_LISTS}" colour="%{BKY_LISTS_HUE}">
        <block type="lists_create_empty"></block>
        <block type="lists_create_with"></block>
        <block type="lists_length"></block>
        <block type="lists_isEmpty"></block>
        <block type="lists_getIndex"></block>
        <block type="lists_setIndex"></block>
        <block type="lists_split">
            <value name="DELIM">
                <shadow type="text">
                    <field name="TEXT">,</field>
                </shadow>
            </value>
        </block>
    </category>

    <sep></sep>

    <!-- 7. Variables , Functions & Tools-->
    <category name="%{BKY_CAT_VARIABLES}" colour="%{BKY_VARIABLES_HUE}" custom="VARIABLE"></category>
    <category name="%{BKY_CAT_FUNCTIONS}" colour="%{BKY_FUNCTIONS_HUE}" custom="PROCEDURE"></category>
    <category name="%{BKY_CAT_TOOLS}" colour="%{BKY_TOOLS_HUE}">
        <block type="sb_comment"></block>
    </category>

    <sep></sep>

    <!-- 8. Live Show (Management) -->
    <category name="%{BKY_CAT_LIVE_SHOW}" colour="%{BKY_LIVE_SHOW_HUE}">
        <block type="visual_stage_setup"></block>
        <block type="visual_stage_set_color">
            <value name="COLOR">
                <shadow type="visual_color_picker"></shadow>
            </value>
        </block>
        <block type="live_set_param">
            <value name="VALUE">
                <shadow type="math_number">
                    <field name="NUM">1</field>
                </shadow>
            </value>
        </block>
        <block type="live_get_param"></block>
        <block type="sb_log_to_screen">
            <value name="MSG">
                <shadow type="text">
                    <field name="TEXT">Hello</field>
                </shadow>
            </value>
        </block>
    </category>

    <!-- 9. Sound Sources -->
    <category name="%{BKY_CAT_SOUND_SOURCES}" colour="%{BKY_SOUND_SOURCES_HUE}">
        <block type="sb_minim_init"></block>
        <block type="sb_instrument_container"></block>
        <block type="sb_set_wave"></block>
        <block type="sb_set_noise"></block>
        <block type="sb_mixed_source">
            <value name="LEVEL">
                <shadow type="math_number">
                    <field name="NUM">30</field>
                </shadow>
            </value>
        </block>
        <block type="sb_create_harmonic_synth"></block>
        <block type="sb_create_additive_synth"></block>
        <block type="sb_melodic_sampler"></block>
        <block type="sb_drum_sampler"></block>
    </category>

    <!-- 10. Instrument Control -->
    <category name="%{BKY_CAT_INSTRUMENT_CONTROL}" colour="%{BKY_INSTRUMENT_CONTROL_HUE}">
        <block type="sb_set_panning">
            <value name="VALUE">
                <shadow type="math_number">
                    <field name="NUM">0</field>
                </shadow>
            </value>
        </block>
        <block type="sb_set_instrument_volume">
            <value name="VOLUME">
                <shadow type="math_number">
                    <field name="NUM">100</field>
                </shadow>
            </value>
        </block>
        <block type="sb_set_adsr">
            <value name="A">
                <shadow type="math_number">
                    <field name="NUM">0.01</field>
                </shadow>
            </value>
            <value name="D">
                <shadow type="math_number">
                    <field name="NUM">0.1</field>
                </shadow>
            </value>
            <value name="S">
                <shadow type="math_number">
                    <field name="NUM">0.5</field>
                </shadow>
            </value>
            <value name="R">
                <shadow type="math_number">
                    <field name="NUM">0.5</field>
                </shadow>
            </value>
        </block>
        <block type="sb_update_adsr">
            <value name="A">
                <shadow type="math_number">
                    <field name="NUM">0.01</field>
                </shadow>
            </value>
            <value name="D">
                <shadow type="math_number">
                    <field name="NUM">0.1</field>
                </shadow>
            </value>
            <value name="S">
                <shadow type="math_number">
                    <field name="NUM">0.5</field>
                </shadow>
            </value>
            <value name="R">
                <shadow type="math_number">
                    <field name="NUM">0.5</field>
                </shadow>
            </value>
        </block>
    </category>

    <!-- 11. Audio Effects -->
    <category name="%{BKY_CAT_EFFECTS}" colour="%{BKY_EFFECTS_HUE}">
        <block type="sb_setup_effect">
            <mutation effect_type="filter"></mutation>
            <field name="EFFECT_TYPE">filter</field>
            <value name="FILTER_FREQ">
                <shadow type="math_number">
                    <field name="NUM">1000</field>
                </shadow>
            </value>
            <value name="FILTER_Q">
                <shadow type="math_number">
                    <field name="NUM">1</field>
                </shadow>
            </value>
        </block>
        <block type="sb_set_effect_param">
            <mutation effect_type="panning"></mutation>
            <field name="EFFECT_TYPE">panning</field>
            <value name="VALUE">
                <shadow type="math_number">
                    <field name="NUM">0</field>
                </shadow>
            </value>
        </block>
    </category>

    <!-- 12. Performance -->
    <category name="%{BKY_CAT_PERFORMANCE}" colour="%{BKY_PERFORMANCE_HUE}">
        <!-- 選擇樂器 -->
        <block type="sb_select_current_instrument"></block>
        <!-- 設定速度 -->
        <block type="sb_transport_set_bpm">
            <value name="BPM">
                <shadow type="math_number">
                    <field name="NUM">120</field>
                </shadow>
            </value>
        </block>
        <!-- 預備拍 -->
        <block type="sb_transport_count_in">
            <value name="MEASURES">
                <shadow type="math_number">
                    <field name="NUM">1</field>
                </shadow>
            </value>
            <value name="BEATS">
                <shadow type="math_number">
                    <field name="NUM">4</field>
                </shadow>
            </value>
            <value name="BEAT_UNIT">
                <shadow type="math_number">
                    <field name="NUM">4</field>
                </shadow>
            </value>
            <value name="VELOCITY">
                <shadow type="math_number">
                    <field name="NUM">100</field>
                </shadow>
            </value>
        </block>
        <!-- 定義和弦 -->
        <block type="sb_define_chord"></block>
        <!-- 演奏持續音 (MIDI) -->
        <block type="sb_play_note">
            <value name="PITCH">
                <shadow type="text">
                    <field name="TEXT">60</field>
                </shadow>
            </value>
            <value name="VELOCITY">
                <shadow type="math_number">
                    <field name="NUM">100</field>
                </shadow>
            </value>
        </block>
        <!-- 停止持續音 (MIDI) -->
        <block type="sb_stop_note">
            <value name="PITCH">
                <shadow type="text">
                    <field name="TEXT">60</field>
                </shadow>
            </value>
        </block>
        <!-- 演奏單音 -->
        <block type="sb_trigger_sample">
            <value name="VELOCITY">
                <shadow type="math_number">
                    <field name="NUM">100</field>
                </shadow>
            </value>
        </block>
        <!-- 演奏電子鼓 -->
        <block type="sb_play_drum">
            <value name="VELOCITY">
                <shadow type="math_number">
                    <field name="NUM">100</field>
                </shadow>
            </value>
        </block>
        <!-- 播放旋律 -->
        <block type="sb_play_melody"></block>
        <!-- 演奏和弦 -->
        <block type="sb_play_chord_by_name">
            <value name="DUR">
                <shadow type="text">
                    <field name="TEXT">4n</field>
                </shadow>
            </value>
            <value name="VELOCITY">
                <shadow type="math_number">
                    <field name="NUM">100</field>
                </shadow>
            </value>
        </block>
        <block type="sb_audio_is_playing"></block>
        <block type="sb_wait_until_finished"></block>
        <block type="sb_wait_musical">
            <value name="VALUE">
                <shadow type="math_number">
                    <field name="NUM">1</field>
                </shadow>
            </value>
        </block>
        <block type="sb_tone_loop"></block>
        <block type="sb_perform"></block>
        <block type="sb_rhythm_sequence">
            <value name="MEASURE">
                <shadow type="math_number">
                    <field name="NUM">1</field>
                </shadow>
            </value>
            <value name="VELOCITY">
                <shadow type="math_number">
                    <field name="NUM">100</field>
                </shadow>
            </value>
        </block>
        <block type="sb_musical_section">
            <value name="DURATION">
                <shadow type="math_number">
                    <field name="NUM">4</field>
                </shadow>
            </value>
        </block>
        <block type="sb_rhythm_sequencer_v2"></block>
    </category>

    <sep></sep>

    <!-- 12. Visuals (Drawing) -->
    <category name="%{BKY_CAT_VISUAL}" colour="%{BKY_VISUAL_HUE}">
        <block type="visual_color_picker"></block>
        <block type="processing_frame_count"></block>
        <block type="visual_frame_rate">
            <value name="FPS">
                <shadow type="math_number">
                    <field name="NUM">60</field>
                </shadow>
            </value>
        </block>
        <block type="visual_size"></block>
        <block type="visual_pixel_density"></block>
        <block type="visual_constant"></block>

        <sep></sep>

        <block type="visual_background">
            <value name="COLOR">
                <shadow type="visual_color_picker"></shadow>
            </value>
        </block>
        <block type="visual_fill">
            <value name="COLOR">
                <shadow type="visual_color_picker"></shadow>
            </value>
        </block>
        <block type="visual_no_fill"></block>
        <block type="visual_stroke">
            <value name="COLOR">
                <shadow type="visual_color_picker"></shadow>
            </value>
        </block>
        <block type="visual_stroke_weight">
            <value name="WEIGHT">
                <shadow type="math_number">
                    <field name="NUM">1</field>
                </shadow>
            </value>
        </block>
        <block type="visual_no_stroke"></block>

        <sep></sep>

        <block type="visual_rect">
            <value name="X">
                <shadow type="math_number">
                    <field name="NUM">0</field>
                </shadow>
            </value>
            <value name="Y">
                <shadow type="math_number">
                    <field name="NUM">0</field>
                </shadow>
            </value>
            <value name="W">
                <shadow type="math_number">
                    <field name="NUM">100</field>
                </shadow>
            </value>
            <value name="H">
                <shadow type="math_number">
                    <field name="NUM">100</field>
                </shadow>
            </value>
        </block>
        <block type="visual_ellipse">
            <value name="X">
                <shadow type="math_number">
                    <field name="NUM">50</field>
                </shadow>
            </value>
            <value name="Y">
                <shadow type="math_number">
                    <field name="NUM">50</field>
                </shadow>
            </value>
            <value name="W">
                <shadow type="math_number">
                    <field name="NUM">80</field>
                </shadow>
            </value>
            <value name="H">
                <shadow type="math_number">
                    <field name="NUM">80</field>
                </shadow>
            </value>
        </block>
        <block type="visual_line">
            <value name="X1">
                <shadow type="math_number">
                    <field name="NUM">0</field>
                </shadow>
            </value>
            <value name="Y1">
                <shadow type="math_number">
                    <field name="NUM">0</field>
                </shadow>
            </value>
            <value name="X2">
                <shadow type="math_number">
                    <field name="NUM">100</field>
                </shadow>
            </value>
            <value name="Y2">
                <shadow type="math_number">
                    <field name="NUM">100</field>
                </shadow>
            </value>
        </block>
        <block type="visual_triangle">
            <value name="X1">
                <shadow type="math_number">
                    <field name="NUM">50</field>
                </shadow>
            </value>
            <value name="Y1">
                <shadow type="math_number">
                    <field name="NUM">0</field>
                </shadow>
            </value>
            <value name="X2">
                <shadow type="math_number">
                    <field name="NUM">0</field>
                </shadow>
            </value>
            <value name="Y2">
                <shadow type="math_number">
                    <field name="NUM">100</field>
                </shadow>
            </value>
            <value name="X3">
                <shadow type="math_number">
                    <field name="NUM">100</field>
                </shadow>
            </value>
            <value name="Y3">
                <shadow type="math_number">
                    <field name="NUM">100</field>
                </shadow>
            </value>
        </block>

        <sep></sep>

        <block type="visual_translate">
            <value name="X">
                <shadow type="math_number">
                    <field name="NUM">0</field>
                </shadow>
            </value>
            <value name="Y">
                <shadow type="math_number">
                    <field name="NUM">0</field>
                </shadow>
            </value>
        </block>
        <block type="visual_rotate">
            <value name="ANGLE">
                <shadow type="math_number">
                    <field name="NUM">45</field>
                </shadow>
            </value>
        </block>
        <block type="visual_scale">
            <value name="S">
                <shadow type="math_number">
                    <field name="NUM">1.0</field>
                </shadow>
            </value>
        </block>
        <block type="visual_push_pop"></block>
    </category>

    <!-- 13. Serial (Arduino) -->
    <category name="%{BKY_CAT_SERIAL}" colour="%{BKY_SERIAL_HUE}">
        <block type="sb_serial_data_received"></block>
        <block type="serial_init"></block>
        <block type="serial_available"></block>
        <block type="serial_read_string"></block>
        <block type="sb_serial_write">
            <value name="CONTENT">
                <shadow type="text">
                    <field name="TEXT">A</field>
                </shadow>
            </value>
        </block>
        <block type="serial_check_mask">
            <value name="MASK">
                <shadow type="math_number">
                    <field name="NUM">0</field>
                </shadow>
            </value>
        </block>
        <block type="sb_serial_check_key_mask">
            <value name="DATA">
                <shadow type="variables_get">
                    <field name="VAR">serial_data</field>
                </shadow>
            </value>
        </block>
    </category>

    <!-- 14. MIDI -->
    <category name="%{BKY_CAT_PC_KEY}" colour="%{BKY_PC_KEY_HUE}">
        <block type="ui_key_event"></block>
    </category>

    <category name="%{BKY_CAT_MIDI}" colour="%{BKY_MIDI_HUE}">
        <block type="midi_init"></block>
        <block type="midi_on_note"></block>
        <block type="midi_off_note"></block>
    </category>

    <!-- 15. UI Control -->
    <category name="%{BKY_CAT_UI}" colour="%{BKY_UI_HUE}">
        <block type="ui_init"></block>
        <block type="ui_add_slider"></block>
        <block type="ui_add_toggle"></block>
    </category>
</xml>